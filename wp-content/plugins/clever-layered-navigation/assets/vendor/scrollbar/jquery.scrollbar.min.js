/**
 * jQuery CSS Customizable Scrollbar
 *
 * Copyright 2015, Yuriy Khabarov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * If you found bug, please contact me via email <13real008@gmail.com>
 *
 * @author Yuriy Khabarov aka Gromo
 * @version 0.2.11
 * @url https://github.com/gromo/jquery.scrollbar/
 *
 */
;
(function(a,b){'use strict';'function'==typeof define&&define.amd?define(['jquery'],b):'undefined'==typeof exports?b(jQuery):module.exports=b(require('jquery'))})(this,function(a){'use strict';function b(p){if(j.webkit&&!p)return{height:0,width:0};if(!j.data.outer){var q={border:'none','box-sizing':'content-box',height:'200px',margin:'0',padding:'0',width:'200px'};j.data.inner=a('<div>').css(a.extend({},q)),j.data.outer=a('<div>').css(a.extend({left:'-1000px',overflow:'scroll',position:'absolute',top:'-1000px'},q)).append(j.data.inner).appendTo('body')}return j.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(j.data.outer.offset().top-j.data.inner.offset().top||0),width:Math.ceil(j.data.outer.offset().left-j.data.inner.offset().left||0)}}function f(){var p=b(!0);return!(p.height||p.width)}function g(p){var q=p.originalEvent;return q.axis&&q.axis===q.HORIZONTAL_AXIS?!1:!q.wheelDeltaX}var j={data:{index:0,name:'scrollbar'},firefox:/firefox/i.test(navigator.userAgent),macosx:/mac/i.test(navigator.platform),msedge:/edge\/\d+/i.test(navigator.userAgent),msie:/(msie|trident)/i.test(navigator.userAgent),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};j.scrolls.add=function(p){this.remove(p).push(p)},j.scrolls.remove=function(p){for(;0<=a.inArray(p,this);)this.splice(a.inArray(p,this),1);return this};var k={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,isRtl:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onFallback:null,onInit:null,onScroll:null,onUpdate:null},l=function(p){j.scroll||(j.overlay=f(),j.scroll=b(),n(),a(window).resize(function(){var q=!1;if(j.scroll&&(j.scroll.height||j.scroll.width)){var r=b();(r.height!==j.scroll.height||r.width!==j.scroll.width)&&(j.scroll=r,q=!0)}n(q)})),this.container=p,this.namespace='.scrollbar_'+j.data.index++,this.options=a.extend({},k,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},p.data(j.data.name,this),j.scrolls.add(this)};l.prototype={destroy:function(){if(this.wrapper){this.container.removeData(j.data.name),j.scrolls.remove(this);var p=this.container.scrollLeft(),q=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:'',margin:'','max-height':''}).removeClass('scroll-content scroll-scrollx_visible scroll-scrolly_visible').off(this.namespace).scrollLeft(p).scrollTop(q),this.scrollx.scroll.removeClass('scroll-scrollx_visible').find('div').addBack().off(this.namespace),this.scrolly.scroll.removeClass('scroll-scrolly_visible').find('div').addBack().off(this.namespace),this.wrapper.remove(),a(document).add('body').off(this.namespace),a.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(p){var q=this,r=this.container,t=this.containerWrapper||r,u=this.namespace,v=a.extend(this.options,p||{}),x={x:this.scrollx,y:this.scrolly},y=this.wrapper,z={},A={scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop()};if(j.mobile&&v.ignoreMobile||j.overlay&&v.ignoreOverlay||j.macosx&&!j.webkit)return a.isFunction(v.onFallback)&&v.onFallback.apply(this,[r]),!1;if(!y){if(this.wrapper=y=a('<div>').addClass('scroll-wrapper').addClass(r.attr('class')).css('position','absolute'===r.css('position')?'absolute':'relative').insertBefore(r).append(r),v.isRtl&&y.addClass('scroll--rtl'),r.is('textarea')&&(this.containerWrapper=t=a('<div>').insertBefore(r).append(r),y.addClass('scroll-textarea')),z={height:'auto','margin-bottom':-1*j.scroll.height+'px','max-height':''},z[v.isRtl?'margin-left':'margin-right']=-1*j.scroll.width+'px',t.addClass('scroll-content').css(z),r.on('scroll'+u,function(){var D=r.scrollLeft(),E=r.scrollTop();if(v.isRtl)switch(!0){case j.firefox:D=Math.abs(D);case j.msedge||j.msie:D=r[0].scrollWidth-r[0].clientWidth-D;}a.isFunction(v.onScroll)&&v.onScroll.call(q,{maxScroll:x.y.maxScrollOffset,scroll:E,size:x.y.size,visible:x.y.visible},{maxScroll:x.x.maxScrollOffset,scroll:D,size:x.x.size,visible:x.x.visible}),x.x.isVisible&&x.x.scroll.bar.css('left',D*x.x.kx+'px'),x.y.isVisible&&x.y.scroll.bar.css('top',E*x.y.kx+'px')}),y.on('scroll'+u,function(){y.scrollTop(0).scrollLeft(0)}),v.disableBodyScroll){var B=function(C){g(C)?x.y.isVisible&&x.y.mousewheel(C):x.x.isVisible&&x.x.mousewheel(C)};y.on('MozMousePixelScroll'+u,B),y.on('mousewheel'+u,B),j.mobile&&y.on('touchstart'+u,function(C){var D=C.originalEvent.touches&&C.originalEvent.touches[0]||C,E={pageX:D.pageX,pageY:D.pageY},F={left:r.scrollLeft(),top:r.scrollTop()};a(document).on('touchmove'+u,function(G){var H=G.originalEvent.targetTouches&&G.originalEvent.targetTouches[0]||G;r.scrollLeft(F.left+E.pageX-H.pageX),r.scrollTop(F.top+E.pageY-H.pageY),G.preventDefault()}),a(document).on('touchend'+u,function(){a(document).off(u)})})}a.isFunction(v.onInit)&&v.onInit.apply(this,[r])}else z={height:'auto','margin-bottom':-1*j.scroll.height+'px','max-height':''},z[v.isRtl?'margin-left':'margin-right']=-1*j.scroll.width+'px',t.css(z);a.each(x,function(C,D){var E=null,F=1,G='x'===C?'scrollLeft':'scrollTop',H=v.scrollStep,I=function(){var K=r[G]();r[G](K+H),1==F&&K+H>=J&&(K=r[G]()),-1==F&&K+H<=J&&(K=r[G]()),r[G]()==K&&E&&E()},J=0;D.scroll||(D.scroll=q._getScroll(v['scroll'+C]).addClass('scroll-'+C),v.showArrows&&D.scroll.addClass('scroll-element_arrows_visible'),D.mousewheel=function(K){if(!D.isVisible||'x'===C&&g(K))return!0;if('y'===C&&!g(K))return x.x.mousewheel(K),!0;var L=-1*K.originalEvent.wheelDelta||K.originalEvent.detail,M=D.size-D.visible-D.offset;return L||('x'===C&&K.originalEvent.deltaX?L=40*K.originalEvent.deltaX:'y'===C&&!!K.originalEvent.deltaY&&(L=40*K.originalEvent.deltaY)),(0<L&&J<M||0>L&&0<J)&&(J+=L,0>J&&(J=0),J>M&&(J=M),q.scrollTo=q.scrollTo||{},q.scrollTo[G]=J,setTimeout(function(){q.scrollTo&&(r.stop().animate(q.scrollTo,240,'linear',function(){J=r[G]()}),q.scrollTo=null)},1)),K.preventDefault(),!1},D.scroll.on('MozMousePixelScroll'+u,D.mousewheel).on('mousewheel'+u,D.mousewheel).on('mouseenter'+u,function(){J=r[G]()}),D.scroll.find('.scroll-arrow, .scroll-element_track').on('mousedown'+u,function(K){if(1!=K.which)return!0;F=1;var L={eventOffset:K['x'===C?'pageX':'pageY'],maxScrollValue:D.size-D.visible-D.offset,scrollbarOffset:D.scroll.bar.offset()['x'===C?'left':'top'],scrollbarSize:D.scroll.bar['x'===C?'outerWidth':'outerHeight']()},M=0,N=0;if(!a(this).hasClass('scroll-arrow'))F=L.eventOffset>L.scrollbarOffset+L.scrollbarSize?1:L.eventOffset<L.scrollbarOffset?-1:0,'x'===C&&v.isRtl&&(j.msie||j.msedge)&&(F*=-1),H=Math.round(0.75*D.visible)*F,J=L.eventOffset-L.scrollbarOffset-(v.stepScrolling?1==F?L.scrollbarSize:0:Math.round(L.scrollbarSize/2)),J=r[G]()+J/D.kx;else if(F=a(this).hasClass('scroll-arrow_more')?1:-1,H=v.scrollStep*F,J=0<F?L.maxScrollValue:0,v.isRtl)switch(!0){case j.firefox:J=0<F?0:-1*L.maxScrollValue;break;case j.msie||j.msedge:}return q.scrollTo=q.scrollTo||{},q.scrollTo[G]=v.stepScrolling?r[G]()+H:J,v.stepScrolling&&(E=function(){J=r[G](),clearInterval(N),clearTimeout(M),M=0,N=0},M=setTimeout(function(){N=setInterval(I,40)},v.duration+100)),setTimeout(function(){q.scrollTo&&(r.animate(q.scrollTo,v.duration),q.scrollTo=null)},1),q._handleMouseDown(E,K)}),D.scroll.bar.on('mousedown'+u,function(K){if(1!=K.which)return!0;var L=K['x'===C?'pageX':'pageY'],M=r[G]();return D.scroll.addClass('scroll-draggable'),a(document).on('mousemove'+u,function(N){var O=parseInt((N['x'===C?'pageX':'pageY']-L)/D.kx,10);'x'===C&&v.isRtl&&(j.msie||j.msedge)&&(O*=-1),r[G](M+O)}),q._handleMouseDown(function(){D.scroll.removeClass('scroll-draggable'),J=r[G]()},K)}))}),a.each(x,function(C,D){var E='scroll-scroll'+C+'_visible',F='x'==C?x.y:x.x;D.scroll.removeClass(E),F.scroll.removeClass(E),t.removeClass(E)}),a.each(x,function(C,D){a.extend(D,'x'==C?{offset:parseInt(r.css('left'),10)||0,size:r.prop('scrollWidth'),visible:y.width()}:{offset:parseInt(r.css('top'),10)||0,size:r.prop('scrollHeight'),visible:y.height()})}),this._updateScroll('x',this.scrollx),this._updateScroll('y',this.scrolly),a.isFunction(v.onUpdate)&&v.onUpdate.apply(this,[r]),a.each(x,function(C,D){var E='x'===C?'left':'top',F='x'===C?'outerWidth':'outerHeight',G='x'===C?'width':'height',H=parseInt(r.css(E),10)||0,I=D.size,J=D.visible+H,K=D.scroll.size[F]()+(parseInt(D.scroll.size.css(E),10)||0);v.autoScrollSize&&(D.scrollbarSize=parseInt(K*J/I,10),D.scroll.bar.css(G,D.scrollbarSize+'px')),D.scrollbarSize=D.scroll.bar[F](),D.kx=(K-D.scrollbarSize)/(I-J)||1,D.maxScrollOffset=I-J}),r.scrollLeft(A.scrollLeft).scrollTop(A.scrollTop).trigger('scroll')},_getScroll:function(p){var q={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>','</div>','</div>','<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>','</div>','<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>','</div>','</div>','</div>'].join(''),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>','</div>','</div>'].join('')};return q[p]&&(p=q[p]),p||(p=q.simple),p='string'==typeof p?a(p).appendTo(this.wrapper):a(p),a.extend(p,{bar:p.find('.scroll-bar'),size:p.find('.scroll-element_size'),track:p.find('.scroll-element_track')}),p},_handleMouseDown:function(p,q){var r=this.namespace;return a(document).on('blur'+r,function(){a(document).add('body').off(r),p&&p()}),a(document).on('dragstart'+r,function(t){return t.preventDefault(),!1}),a(document).on('mouseup'+r,function(){a(document).add('body').off(r),p&&p()}),a('body').on('selectstart'+r,function(t){return t.preventDefault(),!1}),q&&q.preventDefault(),!1},_updateScroll:function(p,q){var r=this.container,t=this.containerWrapper||r,u='scroll-scroll'+p+'_visible',v='x'===p?this.scrolly:this.scrollx,x=parseInt(this.container.css('x'===p?'left':'top'),10)||0,y=this.wrapper,z=q.size,A=q.visible+x;q.isVisible=1<z-A,q.isVisible?(q.scroll.addClass(u),v.scroll.addClass(u),t.addClass(u)):(q.scroll.removeClass(u),v.scroll.removeClass(u),t.removeClass(u)),'y'===p&&(r.is('textarea')||z<A?t.css({height:A+j.scroll.height+'px','max-height':'none'}):t.css({'max-height':A+j.scroll.height+'px'})),(q.size!=r.prop('scrollWidth')||v.size!=r.prop('scrollHeight')||q.visible!=y.width()||v.visible!=y.height()||q.offset!=(parseInt(r.css('left'),10)||0)||v.offset!=(parseInt(r.css('top'),10)||0))&&(a.extend(this.scrollx,{offset:parseInt(r.css('left'),10)||0,size:r.prop('scrollWidth'),visible:y.width()}),a.extend(this.scrolly,{offset:parseInt(r.css('top'),10)||0,size:this.container.prop('scrollHeight'),visible:y.height()}),this._updateScroll('x'===p?'y':'x',v))}};a.fn.scrollbar=function(p,q){return'string'!=typeof p&&(q=p,p='init'),'undefined'==typeof q&&(q=[]),a.isArray(q)||(q=[q]),this.not('body, .scroll-wrapper').each(function(){var r=a(this),t=r.data(j.data.name);(t||'init'===p)&&(!t&&(t=new l(r)),t[p]&&t[p].apply(t,q))}),this},a.fn.scrollbar.options=k;var n=function(){var p=0,q=0;return function(r){var t,u,v,x,y,z,A;for(t=0;t<j.scrolls.length;t++)x=j.scrolls[t],u=x.container,v=x.options,y=x.wrapper,z=x.scrollx,A=x.scrolly,(r||v.autoUpdate&&y&&y.is(':visible')&&(u.prop('scrollWidth')!=z.size||u.prop('scrollHeight')!=A.size||y.width()!=z.visible||y.height()!=A.visible))&&(x.init(),v.debug&&(window.console&&console.log({scrollHeight:u.prop('scrollHeight')+':'+x.scrolly.size,scrollWidth:u.prop('scrollWidth')+':'+x.scrollx.size,visibleHeight:y.height()+':'+x.scrolly.visible,visibleWidth:y.width()+':'+x.scrollx.visible},!0),q++));clearTimeout(p),p=setTimeout(n,300)}}();window.angular&&function(p){p.module('jQueryScrollbar',[]).provider('jQueryScrollbar',function(){var q=k;return{setOptions:function(r){p.extend(q,r)},$get:function(){return{options:p.copy(q)}}}}).directive('jqueryScrollbar',['jQueryScrollbar','$parse',function(q,r){return{restrict:'AC',link:function(t,u,v){var x=r(v.jqueryScrollbar),y=x(t);u.scrollbar(y||q.options).on('$destroy',function(){u.scrollbar('destroy')})}}}])}(window.angular)});